webpackJsonp([4,2],{0:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=t(170),c=o(i),r=t(3),u=o(r),s=t(169),l=o(s),a=t(132),d=o(a),f=t(133),m=o(f);u.default.use(l.default),u.default.config.debug=!0,u.default.config.devtools=!0,c.default.ajaxSettings.crossDomain=!0;var p=new l.default({mode:"history",routes:d.default});new u.default({router:p,store:m.default}).$mount("#app")},9:function(e,n){"use strict";function t(e){this.prefix=e,this.lastId=0}Object.defineProperty(n,"__esModule",{value:!0}),t.prototype.next=function(){return this.prefix+ ++this.lastId},n.default=new t("#id-")},29:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={fileSeperate:"/",serverHost:"http://10.10.20.126:8888"}},59:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n){this.action=e,this.content=n}Object.defineProperty(n,"__esModule",{value:!0}),n.Action=n.Message=void 0;var c=t(121),r=o(c);i.prototype.toString=function(){return(0,r.default)({action:this.action,content:this.content})},i.prototype.setAction=function(e){this.action=e},i.prototype.setContent=function(e){this.content=e};var u={FILE_MODIFY:0,FILE_DELETE:1,FILE_ADD:2,FILE_RENAME:3,FILE_MOVE:4};n.Message=i,n.Action=u},63:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(29),c=o(i);n.default={stringToTreeNode:function(e,n){},mergeTreeNode:function(e,n){function t(e,n,o){if(0==n.length)return void e.children.push(o);var i,c=n.shift();e.children.every(function(e){return e.name!=c||(i=e,!1)}),i||(i={name:c,isFolder:!0,children:[]},e.children.push(i)),t(i,n,o)}var o=n.path.split(c.default.fileSeperate);return o.pop(),o.shift(),t(e,o,n),e},registerLanguageComplete:function(e,n){window.monaco&&window.monaco.languages.registerCompletionItemProvider(e,{provideCompletionItems:function(){return n}})},componentToCompleteItem:function(e){return window.monaco?e.map(function(e){return{label:e,kind:window.monaco.languages.CompletionItemKind.Keyword,insertText:"<"+e+"></"+e+">"}}):e}}},131:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(window.connection||r(),e&&"function"==typeof e){var n=f.default.next();return m[n]=e,n}return null}function c(e,n){window.connection?(window.connection.send((0,a.default)(e)),n&&n()):r({onOpen:function(){window.connection.send((0,a.default)(e)),n&&n()}})}function r(e){function n(n){e.onOpen&&e.onOpen(n),console.log("socket connect",n)}function t(e){console.log("socket close",e)}function o(e){console.log(e);var n=(0,s.default)(m);n.forEach(function(n){try{m[n].call(null,e)}catch(e){console.log("id :  %s error, handler : ",n,m[n])}})}function i(e){console.log("socket error",e)}if(!window.connection){var c=window.WebSocket,r=window.connection=new c(p);r&&(r.onopen=n,r.onclose=t,r.onmessage=o,r.onerror=i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.send=n.registerSocket=void 0;var u=t(65),s=o(u),l=t(121),a=o(l),d=t(9),f=o(d),m={},p="ws://localhost:8888";n.registerSocket=i,n.send=c},132:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){t.e(0,function(){e(t(125))})},i=function(e){t.e(1,function(){e(t(126))})},c=[{path:"/",name:"home",component:o},{path:"/layout",name:"layout",component:i}];n.default=c},133:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(3),c=o(i),r=t(28),u=o(r),s=t(59),l=t(131),a=t(29),d=o(a),f=t(63),m=o(f),p=t(162);o(p);c.default.use(u.default),n.default=new u.default.Store({state:{$eventBus:new c.default,currentShowFile:{},currentSelectFile:{},openFiles:[],files:{test:{name:"test",isFolder:!0,children:[{name:"test1",isFolder:!0,children:[{name:"test1.js",isFolder:!1,content:"content1"}]},{name:"test2",isFolder:!0,children:[{name:"test2.j",isFolder:!1,content:"content2"}]},{name:"test3",isFolder:!0,children:[{name:"test3.js",isFolder:!1,content:"content3"}]}]}},menuItems:[{name:"File",items:[{name:"New File",commander:"createFile"},{name:"New Folder",commander:"createFile"},{name:"New Component",commander:"createFile"},{name:"Save As",commander:"createFile"}]},{name:"Edit"}],components:[]},mutations:{setCurrentShowFile:function(e,n){e.currentShowFile=n.currentShowFile;var t=!1;e.openFiles.every(function(o,i){return o.id!==n.currentShowFile.id||(e.openFiles[i]=n.currentShowFile,c.default.set(e.openFiles,e.openFiles),t=!0,!1)}),!t&&e.openFiles.push(n.currentShowFile)},setCurrentSelectFile:function(e,n){e.currentSelectFile=n.currentSelectFile},addFiles:function(e,n){var t=n.files;t.forEach(function(n){var t=n.path,o=e.files[t.split(d.default.fileSeperate).shift()];m.default.mergeTreeNode(o,n)})},setComponents:function(e,n){e.components=n.components}},actions:{incrment:function(e){e.commit("increment")},crudmFile:function(e,n){switch(n.action){case s.Action.FILE_ADD:(0,l.send)(n.content,function(){e.commit("setCurrentShowFile",{currentShowFile:n.content}),e.commit("addFiles",{files:[n.content]})});case s.Action.FILE_DELETE:case s.Action.FILE_MODIFY:case s.Action.FILE_RENAME:case s.Action.FILE_MOVE:console.log(n.content)}},fetchComponents:function(e){fetch(d.default.serverHost+"/components/list").then(function(e){return e.json()}).then(function(n){e.commit("setComponents",{components:n})})}},getters:{}})}});
//# sourceMappingURL=app.6d4dc7163ad9c892defd.js.map